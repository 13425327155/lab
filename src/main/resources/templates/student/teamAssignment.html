<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>团队分配任务</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.0/dist/css/bootstrap.min.css"
          integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
</head>
<body>
<nav class="navbar navbar-light bg-light">
    <div class="navbar-brand">
        <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-bookmarks-fill" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
            <path fill-rule="evenodd" d="M2 4a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v11.5a.5.5 0 0 1-.777.416L7 13.101l-4.223 2.815A.5.5 0 0 1 2 15.5V4z"/>
            <path fill-rule="evenodd" d="M4.268 1H12a1 1 0 0 1 1 1v11.768l.223.148A.5.5 0 0 0 14 13.5V2a2 2 0 0 0-2-2H6a2 2 0 0 0-1.732 1z"/>
        </svg>
        团队分配任务
        <svg id="btn2" class="bi bi-arrow-repeat" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor"
             xmlns="http://www.w3.org/2000/svg">
            <path fill-rule="evenodd"
                  d="M2.854 7.146a.5.5 0 0 0-.708 0l-2 2a.5.5 0 1 0 .708.708L2.5 8.207l1.646 1.647a.5.5 0 0 0 .708-.708l-2-2zm13-1a.5.5 0 0 0-.708 0L13.5 7.793l-1.646-1.647a.5.5 0 0 0-.708.708l2 2a.5.5 0 0 0 .708 0l2-2a.5.5 0 0 0 0-.708z"/>
            <path fill-rule="evenodd"
                  d="M8 3a4.995 4.995 0 0 0-4.192 2.273.5.5 0 0 1-.837-.546A6 6 0 0 1 14 8a.5.5 0 0 1-1.001 0 5 5 0 0 0-5-5zM2.5 7.5A.5.5 0 0 1 3 8a5 5 0 0 0 9.192 2.727.5.5 0 1 1 .837.546A6 6 0 0 1 2 8a.5.5 0 0 1 .501-.5z"/>
        </svg>
    </div>
    <div class="form-inline my-2 my-lg-0">
        <input id="searchText" class="form-control mr-sm-2" type="search" placeholder="请输入搜索的内容" aria-label="Search">
        <button id="search1" class="btn btn-outline-success my-2 my-sm-0">搜索</button>
    </div>
</nav>
<table class="table table-hover">
    <thead class="thead-dark">
    <tr>
        <th scope="col">编号</th>
        <th scope="col">任务名称</th>
        <th scope="col">任务内容</th>
        <th scope="col">难度</th>
        <th scope="col">发布时间</th>
        <th scope="col">截止日期</th>
        <th scope="col">任务状态</th>
        <th scope="col">操作</th>
    </tr>
    </thead>
    <tbody id="tasksList">
    <tr th:each="tasks:${tasks}">
        <td th:text="${tasks.id}"></td>
        <td th:text="${tasks.task_name}"></td>
        <td th:text="${tasks.task_text}"></td>
        <td th:text="${tasks.difficulty}"></td>
        <td th:text="${#dates.format(tasks.release_time,'yyyy-MM-dd HH:mm:ss')}"></td>
        <td th:text="${#dates.format(tasks.closing_time,'yyyy-MM-dd HH:mm:ss')}"></td>
        <td th:if="${tasks.assign_state=='0'}">未完成</td>
        <td th:if="${tasks.assign_state=='1'}">完成</td>
        <td>
            <button id="fat-btn" class="btn btn-primary" href="javascript:;" th:onclick="updateAssignState([[${tasks.id}]],[[${tasks.assign_state}]])"
                    type="button"> 完成
            </button>
        </td>
    </tr>
    </tbody>
</table>
<script th:src="@{../js/jquery-1.8.3.js}"></script>
<script th:src="@{../js/teamAssignment.js}"></script>
</body>
</html>